'use strict';var cov_2b139ynvfo=function(){var path="/home/emmanuel/Projects/SelfProject/sendit/src/test/update_parcles_test.spec.js",hash="98accf5a1052fc24277427f950f5952c1a4ece66",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/emmanuel/Projects/SelfProject/sendit/src/test/update_parcles_test.spec.js",statementMap:{"0":{start:{line:3,column:16},end:{line:3,column:36}},"1":{start:{line:5,column:17},end:{line:5,column:50}},"2":{start:{line:7,column:12},end:{line:7,column:27}},"3":{start:{line:9,column:13},end:{line:9,column:42}},"4":{start:{line:11,column:13},end:{line:11,column:29}},"5":{start:{line:13,column:11},end:{line:13,column:28}},"6":{start:{line:15,column:12},end:{line:15,column:40}},"7":{start:{line:17,column:39},end:{line:17,column:93}},"8":{start:{line:19,column:10},end:{line:19,column:48}},"9":{start:{line:22,column:0},end:{line:22,column:39}},"10":{start:{line:25,column:0},end:{line:52,column:3}},"11":{start:{line:27,column:2},end:{line:35,column:5}},"12":{start:{line:28,column:4},end:{line:34,column:7}},"13":{start:{line:29,column:6},end:{line:29,column:28}},"14":{start:{line:30,column:6},end:{line:30,column:49}},"15":{start:{line:31,column:6},end:{line:31,column:72}},"16":{start:{line:32,column:6},end:{line:32,column:61}},"17":{start:{line:33,column:6},end:{line:33,column:53}},"18":{start:{line:38,column:2},end:{line:43,column:5}},"19":{start:{line:39,column:4},end:{line:42,column:7}},"20":{start:{line:40,column:6},end:{line:40,column:49}},"21":{start:{line:41,column:6},end:{line:41,column:73}},"22":{start:{line:46,column:2},end:{line:51,column:5}},"23":{start:{line:47,column:4},end:{line:50,column:7}},"24":{start:{line:48,column:6},end:{line:48,column:49}},"25":{start:{line:49,column:6},end:{line:49,column:73}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:37},end:{line:17,column:95}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:25,column:45},end:{line:25,column:46}},loc:{start:{line:25,column:57},end:{line:52,column:1}},line:25},"2":{name:"(anonymous_2)",decl:{start:{line:27,column:43},end:{line:27,column:44}},loc:{start:{line:27,column:55},end:{line:35,column:3}},line:27},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:96},end:{line:28,column:97}},loc:{start:{line:28,column:111},end:{line:34,column:5}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:38,column:89},end:{line:38,column:90}},loc:{start:{line:38,column:101},end:{line:43,column:3}},line:38},"5":{name:"(anonymous_5)",decl:{start:{line:39,column:86},end:{line:39,column:87}},loc:{start:{line:39,column:101},end:{line:42,column:5}},line:39},"6":{name:"(anonymous_6)",decl:{start:{line:46,column:44},end:{line:46,column:45}},loc:{start:{line:46,column:56},end:{line:51,column:3}},line:46},"7":{name:"(anonymous_7)",decl:{start:{line:47,column:106},end:{line:47,column:107}},loc:{start:{line:47,column:121},end:{line:50,column:5}},line:47}},branchMap:{"0":{loc:{start:{line:17,column:46},end:{line:17,column:92}},type:"cond-expr",locations:[{start:{line:17,column:70},end:{line:17,column:73}},{start:{line:17,column:76},end:{line:17,column:92}}],line:17},"1":{loc:{start:{line:17,column:46},end:{line:17,column:67}},type:"binary-expr",locations:[{start:{line:17,column:46},end:{line:17,column:49}},{start:{line:17,column:53},end:{line:17,column:67}}],line:17}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _chaiHttp=(cov_2b139ynvfo.s[0]++,require('chai-http'));var _chaiHttp2=(cov_2b139ynvfo.s[1]++,_interopRequireDefault(_chaiHttp));var _chai=(cov_2b139ynvfo.s[2]++,require('chai'));var _chai2=(cov_2b139ynvfo.s[3]++,_interopRequireDefault(_chai));var _mocha=(cov_2b139ynvfo.s[4]++,require('mocha'));var _app=(cov_2b139ynvfo.s[5]++,require('../app'));var _app2=(cov_2b139ynvfo.s[6]++,_interopRequireDefault(_app));function _interopRequireDefault(obj){cov_2b139ynvfo.f[0]++;cov_2b139ynvfo.s[7]++;return(cov_2b139ynvfo.b[1][0]++,obj)&&(cov_2b139ynvfo.b[1][1]++,obj.__esModule)?(cov_2b139ynvfo.b[0][0]++,obj):(cov_2b139ynvfo.b[0][1]++,{default:obj});}var pid=(cov_2b139ynvfo.s[8]++,'98bdf263-a37b-433b-81f7-f557a74fdb85');// const url = 'http://localhost:5000';
cov_2b139ynvfo.s[9]++;_chai2.default.use(_chaiHttp2.default);// Cancel a parcel
cov_2b139ynvfo.s[10]++;(0,_mocha.describe)('PUT/ Cancel a parcel',function(){cov_2b139ynvfo.f[1]++;cov_2b139ynvfo.s[11]++;// Should cancel a parcel
(0,_mocha.it)('should cancel a parcel',function(){cov_2b139ynvfo.f[2]++;cov_2b139ynvfo.s[12]++;return _chai2.default.request(_app2.default).put('/api/v1/parcels/'+pid+'/cancel').then(function(res){cov_2b139ynvfo.f[3]++;cov_2b139ynvfo.s[13]++;console.log(res.body);cov_2b139ynvfo.s[14]++;(0,_chai.expect)(res).to.have.status(200);cov_2b139ynvfo.s[15]++;(0,_chai.expect)(res.body).to.have.property('success').eql(true);cov_2b139ynvfo.s[16]++;(0,_chai.expect)(res.body).to.have.property('parcel');cov_2b139ynvfo.s[17]++;(0,_chai.expect)(res.body).to.be.an('object');});});// Should not allow to cancel a not booking-status parcel
cov_2b139ynvfo.s[18]++;(0,_mocha.it)('should not allow to cancel a parcel with status Delivered or Transit',function(){cov_2b139ynvfo.f[4]++;cov_2b139ynvfo.s[19]++;return _chai2.default.request(_app2.default).put('/api/v1/parcels/2/cancel').then(function(res){cov_2b139ynvfo.f[5]++;cov_2b139ynvfo.s[20]++;(0,_chai.expect)(res).to.have.status(405);cov_2b139ynvfo.s[21]++;(0,_chai.expect)(res.body).to.have.property('success').eql(false);});});// Parcel not found
cov_2b139ynvfo.s[22]++;(0,_mocha.it)('should return Not Found',function(){cov_2b139ynvfo.f[6]++;cov_2b139ynvfo.s[23]++;return _chai2.default.request(_app2.default).put('/api/v1/parcels/234_INVALID_PARCEL_ID/cancel').then(function(res){cov_2b139ynvfo.f[7]++;cov_2b139ynvfo.s[24]++;(0,_chai.expect)(res).to.have.status(404);cov_2b139ynvfo.s[25]++;(0,_chai.expect)(res.body).to.have.property('success').eql(false);});});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZV9wYXJjbGVzX3Rlc3Quc3BlYy5qcyJdLCJuYW1lcyI6WyJwaWQiLCJjaGFpIiwidXNlIiwiY2hhaUh0dHAiLCJyZXF1ZXN0IiwiYXBwIiwicHV0IiwidGhlbiIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwidG8iLCJoYXZlIiwic3RhdHVzIiwicHJvcGVydHkiLCJlcWwiLCJiZSIsImFuIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7Ozs7O0FBR0EsSUFBTUEsTUFBTSxzQ0FBWjtBQUNBOztBQUVBQyxlQUFLQyxHQUFMLENBQVNDLGtCQUFUOztBQUVBO0FBQ0EscUJBQVMsc0JBQVQsRUFBaUMsWUFBTTtBQUNyQztBQUNBLGlCQUFHLHdCQUFILEVBQTZCO0FBQUEsV0FBTUYsZUFBS0csT0FBTCxDQUFhQyxhQUFiLEVBQ2hDQyxHQURnQyxzQkFDVE4sR0FEUyxjQUVoQ08sSUFGZ0MsQ0FFM0IsVUFBQ0MsR0FBRCxFQUFTO0FBQ2JDLGNBQVFDLEdBQVIsQ0FBWUYsSUFBSUcsSUFBaEI7QUFDQSx3QkFBT0gsR0FBUCxFQUFZSSxFQUFaLENBQWVDLElBQWYsQ0FBb0JDLE1BQXBCLENBQTJCLEdBQTNCO0FBQ0Esd0JBQU9OLElBQUlHLElBQVgsRUFBaUJDLEVBQWpCLENBQW9CQyxJQUFwQixDQUF5QkUsUUFBekIsQ0FBa0MsU0FBbEMsRUFBNkNDLEdBQTdDLENBQWlELElBQWpEO0FBQ0Esd0JBQU9SLElBQUlHLElBQVgsRUFBaUJDLEVBQWpCLENBQW9CQyxJQUFwQixDQUF5QkUsUUFBekIsQ0FBa0MsUUFBbEM7QUFDQSx3QkFBT1AsSUFBSUcsSUFBWCxFQUFpQkMsRUFBakIsQ0FBb0JLLEVBQXBCLENBQXVCQyxFQUF2QixDQUEwQixRQUExQjtBQUNELEtBUmdDLENBQU47QUFBQSxHQUE3Qjs7QUFVQTtBQUNBLGlCQUFHLHNFQUFILEVBQTJFO0FBQUEsV0FBTWpCLGVBQUtHLE9BQUwsQ0FBYUMsYUFBYixFQUM5RUMsR0FEOEUsQ0FDMUUsMEJBRDBFLEVBRTlFQyxJQUY4RSxDQUV6RSxVQUFDQyxHQUFELEVBQVM7QUFDYix3QkFBT0EsR0FBUCxFQUFZSSxFQUFaLENBQWVDLElBQWYsQ0FBb0JDLE1BQXBCLENBQTJCLEdBQTNCO0FBQ0Esd0JBQU9OLElBQUlHLElBQVgsRUFBaUJDLEVBQWpCLENBQW9CQyxJQUFwQixDQUF5QkUsUUFBekIsQ0FBa0MsU0FBbEMsRUFBNkNDLEdBQTdDLENBQWlELEtBQWpEO0FBQ0QsS0FMOEUsQ0FBTjtBQUFBLEdBQTNFOztBQU9BO0FBQ0EsaUJBQUcseUJBQUgsRUFBOEI7QUFBQSxXQUFNZixlQUFLRyxPQUFMLENBQWFDLGFBQWIsRUFDakNDLEdBRGlDLENBQzdCLDhDQUQ2QixFQUVqQ0MsSUFGaUMsQ0FFNUIsVUFBQ0MsR0FBRCxFQUFTO0FBQ2Isd0JBQU9BLEdBQVAsRUFBWUksRUFBWixDQUFlQyxJQUFmLENBQW9CQyxNQUFwQixDQUEyQixHQUEzQjtBQUNBLHdCQUFPTixJQUFJRyxJQUFYLEVBQWlCQyxFQUFqQixDQUFvQkMsSUFBcEIsQ0FBeUJFLFFBQXpCLENBQWtDLFNBQWxDLEVBQTZDQyxHQUE3QyxDQUFpRCxLQUFqRDtBQUNELEtBTGlDLENBQU47QUFBQSxHQUE5QjtBQU1ELENBM0JEIiwiZmlsZSI6InVwZGF0ZV9wYXJjbGVzX3Rlc3Quc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9lbW1hbnVlbC9Qcm9qZWN0cy9TZWxmUHJvamVjdC9zZW5kaXQvc3JjL3Rlc3QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhaUh0dHAgZnJvbSAnY2hhaS1odHRwJztcbmltcG9ydCBjaGFpLCB7IGV4cGVjdCB9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHsgZGVzY3JpYmUsIGl0IH0gZnJvbSAnbW9jaGEnO1xuaW1wb3J0IGFwcCBmcm9tICcuLi9hcHAnO1xuXG5cbmNvbnN0IHBpZCA9ICc5OGJkZjI2My1hMzdiLTQzM2ItODFmNy1mNTU3YTc0ZmRiODUnO1xuLy8gY29uc3QgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCc7XG5cbmNoYWkudXNlKGNoYWlIdHRwKTtcblxuLy8gQ2FuY2VsIGEgcGFyY2VsXG5kZXNjcmliZSgnUFVULyBDYW5jZWwgYSBwYXJjZWwnLCAoKSA9PiB7XG4gIC8vIFNob3VsZCBjYW5jZWwgYSBwYXJjZWxcbiAgaXQoJ3Nob3VsZCBjYW5jZWwgYSBwYXJjZWwnLCAoKSA9PiBjaGFpLnJlcXVlc3QoYXBwKVxuICAgIC5wdXQoYC9hcGkvdjEvcGFyY2Vscy8ke3BpZH0vY2FuY2VsYClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhyZXMuYm9keSk7XG4gICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdzdWNjZXNzJykuZXFsKHRydWUpO1xuICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdwYXJjZWwnKTtcbiAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uYmUuYW4oJ29iamVjdCcpO1xuICAgIH0pKTtcblxuICAvLyBTaG91bGQgbm90IGFsbG93IHRvIGNhbmNlbCBhIG5vdCBib29raW5nLXN0YXR1cyBwYXJjZWxcbiAgaXQoJ3Nob3VsZCBub3QgYWxsb3cgdG8gY2FuY2VsIGEgcGFyY2VsIHdpdGggc3RhdHVzIERlbGl2ZXJlZCBvciBUcmFuc2l0JywgKCkgPT4gY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAucHV0KCcvYXBpL3YxL3BhcmNlbHMvMi9jYW5jZWwnKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwNSk7XG4gICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwoZmFsc2UpO1xuICAgIH0pKTtcblxuICAvLyBQYXJjZWwgbm90IGZvdW5kXG4gIGl0KCdzaG91bGQgcmV0dXJuIE5vdCBGb3VuZCcsICgpID0+IGNoYWkucmVxdWVzdChhcHApXG4gICAgLnB1dCgnL2FwaS92MS9wYXJjZWxzLzIzNF9JTlZBTElEX1BBUkNFTF9JRC9jYW5jZWwnKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwoZmFsc2UpO1xuICAgIH0pKTtcbn0pO1xuIl19