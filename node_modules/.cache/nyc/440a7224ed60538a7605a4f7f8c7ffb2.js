'use strict';var cov_q2s9pq5jw=function(){var path="/home/emmanuel/Projects/SelfProject/sendit/src/test/test.spec.js",hash="51695a121002f44786544ee37b40b267a809510e",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/emmanuel/Projects/SelfProject/sendit/src/test/test.spec.js",statementMap:{"0":{start:{line:3,column:16},end:{line:3,column:36}},"1":{start:{line:5,column:17},end:{line:5,column:50}},"2":{start:{line:7,column:12},end:{line:7,column:27}},"3":{start:{line:9,column:13},end:{line:9,column:42}},"4":{start:{line:11,column:13},end:{line:11,column:29}},"5":{start:{line:13,column:11},end:{line:13,column:28}},"6":{start:{line:15,column:12},end:{line:15,column:40}},"7":{start:{line:17,column:39},end:{line:17,column:93}},"8":{start:{line:21,column:0},end:{line:21,column:39}},"9":{start:{line:23,column:0},end:{line:235,column:3}},"10":{start:{line:151,column:2},end:{line:234,column:5}},"11":{start:{line:153,column:4},end:{line:183,column:7}},"12":{start:{line:155,column:6},end:{line:162,column:9}},"13":{start:{line:156,column:8},end:{line:161,column:11}},"14":{start:{line:157,column:10},end:{line:157,column:53}},"15":{start:{line:158,column:10},end:{line:158,column:57}},"16":{start:{line:159,column:10},end:{line:159,column:76}},"17":{start:{line:160,column:10},end:{line:160,column:64}},"18":{start:{line:165,column:6},end:{line:172,column:9}},"19":{start:{line:166,column:8},end:{line:171,column:11}},"20":{start:{line:167,column:10},end:{line:167,column:53}},"21":{start:{line:168,column:10},end:{line:168,column:57}},"22":{start:{line:169,column:10},end:{line:169,column:77}},"23":{start:{line:170,column:10},end:{line:170,column:93}},"24":{start:{line:175,column:6},end:{line:182,column:9}},"25":{start:{line:176,column:8},end:{line:181,column:11}},"26":{start:{line:177,column:10},end:{line:177,column:53}},"27":{start:{line:178,column:10},end:{line:178,column:57}},"28":{start:{line:179,column:10},end:{line:179,column:77}},"29":{start:{line:180,column:10},end:{line:180,column:88}},"30":{start:{line:186,column:4},end:{line:233,column:7}},"31":{start:{line:188,column:6},end:{line:201,column:9}},"32":{start:{line:189,column:20},end:{line:195,column:10}},"33":{start:{line:196,column:8},end:{line:200,column:11}},"34":{start:{line:197,column:10},end:{line:197,column:53}},"35":{start:{line:198,column:10},end:{line:198,column:57}},"36":{start:{line:199,column:10},end:{line:199,column:76}},"37":{start:{line:204,column:6},end:{line:216,column:9}},"38":{start:{line:205,column:20},end:{line:210,column:9}},"39":{start:{line:211,column:8},end:{line:215,column:11}},"40":{start:{line:212,column:10},end:{line:212,column:53}},"41":{start:{line:213,column:10},end:{line:213,column:57}},"42":{start:{line:214,column:10},end:{line:214,column:77}},"43":{start:{line:219,column:6},end:{line:232,column:9}},"44":{start:{line:220,column:20},end:{line:225,column:9}},"45":{start:{line:226,column:8},end:{line:231,column:11}},"46":{start:{line:227,column:10},end:{line:227,column:53}},"47":{start:{line:228,column:10},end:{line:228,column:57}},"48":{start:{line:229,column:10},end:{line:229,column:77}},"49":{start:{line:230,column:10},end:{line:230,column:62}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:37},end:{line:17,column:95}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:23,column:41},end:{line:23,column:42}},loc:{start:{line:23,column:53},end:{line:235,column:1}},line:23},"2":{name:"(anonymous_2)",decl:{start:{line:151,column:32},end:{line:151,column:33}},loc:{start:{line:151,column:44},end:{line:234,column:3}},line:151},"3":{name:"(anonymous_3)",decl:{start:{line:153,column:46},end:{line:153,column:47}},loc:{start:{line:153,column:58},end:{line:183,column:5}},line:153},"4":{name:"(anonymous_4)",decl:{start:{line:155,column:52},end:{line:155,column:53}},loc:{start:{line:155,column:64},end:{line:162,column:7}},line:155},"5":{name:"(anonymous_5)",decl:{start:{line:156,column:89},end:{line:156,column:90}},loc:{start:{line:156,column:104},end:{line:161,column:9}},line:156},"6":{name:"(anonymous_6)",decl:{start:{line:165,column:61},end:{line:165,column:62}},loc:{start:{line:165,column:73},end:{line:172,column:7}},line:165},"7":{name:"(anonymous_7)",decl:{start:{line:166,column:89},end:{line:166,column:90}},loc:{start:{line:166,column:104},end:{line:171,column:9}},line:166},"8":{name:"(anonymous_8)",decl:{start:{line:175,column:53},end:{line:175,column:54}},loc:{start:{line:175,column:65},end:{line:182,column:7}},line:175},"9":{name:"(anonymous_9)",decl:{start:{line:176,column:105},end:{line:176,column:106}},loc:{start:{line:176,column:120},end:{line:181,column:9}},line:176},"10":{name:"(anonymous_10)",decl:{start:{line:186,column:48},end:{line:186,column:49}},loc:{start:{line:186,column:60},end:{line:233,column:5}},line:186},"11":{name:"(anonymous_11)",decl:{start:{line:188,column:49},end:{line:188,column:50}},loc:{start:{line:188,column:61},end:{line:201,column:7}},line:188},"12":{name:"(anonymous_12)",decl:{start:{line:196,column:94},end:{line:196,column:95}},loc:{start:{line:196,column:109},end:{line:200,column:9}},line:196},"13":{name:"(anonymous_13)",decl:{start:{line:204,column:67},end:{line:204,column:68}},loc:{start:{line:204,column:79},end:{line:216,column:7}},line:204},"14":{name:"(anonymous_14)",decl:{start:{line:211,column:94},end:{line:211,column:95}},loc:{start:{line:211,column:109},end:{line:215,column:9}},line:211},"15":{name:"(anonymous_15)",decl:{start:{line:219,column:58},end:{line:219,column:59}},loc:{start:{line:219,column:70},end:{line:232,column:7}},line:219},"16":{name:"(anonymous_16)",decl:{start:{line:226,column:94},end:{line:226,column:95}},loc:{start:{line:226,column:109},end:{line:231,column:9}},line:226}},branchMap:{"0":{loc:{start:{line:17,column:46},end:{line:17,column:92}},type:"cond-expr",locations:[{start:{line:17,column:70},end:{line:17,column:73}},{start:{line:17,column:76},end:{line:17,column:92}}],line:17},"1":{loc:{start:{line:17,column:46},end:{line:17,column:67}},type:"binary-expr",locations:[{start:{line:17,column:46},end:{line:17,column:49}},{start:{line:17,column:53},end:{line:17,column:67}}],line:17}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _chaiHttp=(cov_q2s9pq5jw.s[0]++,require('chai-http'));var _chaiHttp2=(cov_q2s9pq5jw.s[1]++,_interopRequireDefault(_chaiHttp));var _chai=(cov_q2s9pq5jw.s[2]++,require('chai'));var _chai2=(cov_q2s9pq5jw.s[3]++,_interopRequireDefault(_chai));var _mocha=(cov_q2s9pq5jw.s[4]++,require('mocha'));var _app=(cov_q2s9pq5jw.s[5]++,require('../app'));var _app2=(cov_q2s9pq5jw.s[6]++,_interopRequireDefault(_app));function _interopRequireDefault(obj){cov_q2s9pq5jw.f[0]++;cov_q2s9pq5jw.s[7]++;return(cov_q2s9pq5jw.b[1][0]++,obj)&&(cov_q2s9pq5jw.b[1][1]++,obj.__esModule)?(cov_q2s9pq5jw.b[0][0]++,obj):(cov_q2s9pq5jw.b[0][1]++,{default:obj});}// const pid = '98bdf263-a37b-433b-81f7-f557a74fdb85';
// const url = 'http://localhost:5000';
cov_q2s9pq5jw.s[8]++;_chai2.default.use(_chaiHttp2.default);cov_q2s9pq5jw.s[9]++;(0,_mocha.describe)('SendIT API TESTS',function(){cov_q2s9pq5jw.f[1]++;cov_q2s9pq5jw.s[10]++;/* // Test Invalid pathss
  describe('/GET INVALID_PATH', () => {
    it('should return not found', () => chai.request(app)
      .get('/INVALID_PATH')
      .then((res) => {
        expect(res).to.have.status(404);
      }));
  });
   // Test Parcels' requests
  describe('Parcels', () => {
    // Create parcel
    describe('POST/ Parcel', () => {
      // Parcel should be created
      it('should create a parcel', () => {
        const parcel = {
          userId: 1,
          parcel: {
            parcelId: 1,
            weigth: 40,
            height: 80,
            width: 40,
            length: 90,
            From: 'Kigali',
            stateFrom: 'Kicukiro',
            To: 'Rusizi',
            stateTo: 'Muhondo',
            services: 'Express',
            status: 'delivered',
          },
        };
        chai.request(app)
          .post('/api/v1/parcels/')
          .send(parcel)
          .then((res) => {
            expect(res).to.have.status(201);
            expect(res.body).to.be.an('object');
            expect(res.body).to.have.property('success').eql(true);
            expect(res.body).to.have.property('parcelId');
            expect(res.body).to.have.property('price');
          });
      });
       // ASSIGN parcel to no exist User
      it('should return user not exit', () => {
        const parcel = {
          userId: 'INVALID_USER_ID',
          parcel: {
            parcelId: 1,
            weigth: 40,
            height: 80,
            width: 40,
            length: 90,
            From: 'Kigali',
            stateFrom: 'Kicukiro',
            To: 'Rusizi',
            stateTo: 'Muhondo',
            services: 'Express',
            status: 'delivered',
          },
        };
        chai.request(app)
          .post('/api/v1/parcels/')
          .send(parcel)
          .then((res) => {
            expect(res).to.have.status(404);
            expect(res.body).to.be.an('object');
            expect(res.body).to.have.property('success').eql(false);
          });
      });
    });
     // Get all parcels
    describe('GET/ Parcels', () => {
      it('should return all parcels', () => chai.request(app)
        .get('/api/v1/parcels')
        .then((res) => {
          expect(res).to.have.status(200);
          expect(res.body).to.be.an('object');
          expect(res.body.parcels).to.be.an('array');
        }));
    });
     // Get a Specific Parcel
    describe('GET/ Specif Parcel', () => {
       it('should return a parcel', () => chai.request(app)
        .get(`/api/v1/parcels/${pid}`)
        .then((res) => {
          expect(res).to.have.status(200);
          expect(res.body).to.have.property('success').eql(true);
          expect(res.body.parcel).to.be.an('object');
        }));
       // Parcel not exit
      it('should return parcel Not Exit', () => chai.request(app)
        .get('/api/v1/parcels/4534PARCELID_NOT_EXIT')
        .then((res) => {
          expect(res).to.have.status(404);
          expect(res.body).to.have.property('success').eql(false);
          expect(res.body).to.be.an('object');
        }));
    });
     // Cancel a parcel
    describe('PUT/ Cancel a parcel', () => {
      // Should cancel a parcel
      it('should cancel a parcel', () => chai.request(app)
        .put(`/api/v1/parcels/${pid}/cancel`)
        .then((res) => {
          console.log(res.body);
          expect(res).to.have.status(200);
          expect(res.body).to.have.property('success').eql(true);
          expect(res.body).to.have.property('parcel');
          expect(res.body).to.be.an('object');
        }));
       // Should not allow to cancel a not booking-status parcel
  it('should not allow to cancel a parcel with status Delivered or Transit', () => chai.request(app)
        .put('/api/v1/parcels/2/cancel')
        .then((res) => {
          expect(res).to.have.status(405);
          expect(res.body).to.have.property('success').eql(false);
        }));
       // Parcel not found
      it('should return Not Found', () => chai.request(app)
        .put('/api/v1/parcels/234_INVALID_PARCEL_ID/cancel')
        .then((res) => {
          expect(res).to.have.status(404);
          expect(res.body).to.have.property('success').eql(false);
        }));
    });
  }); */ // USER TESTS
(0,_mocha.describe)('Users',function(){cov_q2s9pq5jw.f[2]++;cov_q2s9pq5jw.s[11]++;// User parcels
(0,_mocha.describe)('GET/ User parcels',function(){cov_q2s9pq5jw.f[3]++;cov_q2s9pq5jw.s[12]++;// Get user parcels
(0,_mocha.it)('should get all user parcels',function(){cov_q2s9pq5jw.f[4]++;cov_q2s9pq5jw.s[13]++;return _chai2.default.request(_app2.default).get('/api/v1/users/1/parcels').then(function(res){cov_q2s9pq5jw.f[5]++;cov_q2s9pq5jw.s[14]++;(0,_chai.expect)(res).to.have.status(200);cov_q2s9pq5jw.s[15]++;(0,_chai.expect)(res.body).to.be.an('object');cov_q2s9pq5jw.s[16]++;(0,_chai.expect)(res.body).to.have.property('success').eql(true);cov_q2s9pq5jw.s[17]++;(0,_chai.expect)(res.body.parcels).to.be.an('array');});});// User has no parcels
cov_q2s9pq5jw.s[18]++;(0,_mocha.it)('should return user parcels not found',function(){cov_q2s9pq5jw.f[6]++;cov_q2s9pq5jw.s[19]++;return _chai2.default.request(_app2.default).get('/api/v1/users/3/parcels').then(function(res){cov_q2s9pq5jw.f[7]++;cov_q2s9pq5jw.s[20]++;(0,_chai.expect)(res).to.have.status(404);cov_q2s9pq5jw.s[21]++;(0,_chai.expect)(res.body).to.be.an('object');cov_q2s9pq5jw.s[22]++;(0,_chai.expect)(res.body).to.have.property('success').eql(false);cov_q2s9pq5jw.s[23]++;(0,_chai.expect)(res.body).to.have.property('message').eql('User has no parcels');});});// User not found
cov_q2s9pq5jw.s[24]++;(0,_mocha.it)('should return user not found',function(){cov_q2s9pq5jw.f[8]++;cov_q2s9pq5jw.s[25]++;return _chai2.default.request(_app2.default).get('/api/v1/users/3_INVALID_USER_ID/parcels').then(function(res){cov_q2s9pq5jw.f[9]++;cov_q2s9pq5jw.s[26]++;(0,_chai.expect)(res).to.have.status(404);cov_q2s9pq5jw.s[27]++;(0,_chai.expect)(res.body).to.be.an('object');cov_q2s9pq5jw.s[28]++;(0,_chai.expect)(res.body).to.have.property('success').eql(false);cov_q2s9pq5jw.s[29]++;(0,_chai.expect)(res.body).to.have.property('message').eql('User not Exist');});});});// Register user
cov_q2s9pq5jw.s[30]++;(0,_mocha.describe)('POST/ Register user',function(){cov_q2s9pq5jw.f[10]++;cov_q2s9pq5jw.s[31]++;// User should be registered
(0,_mocha.it)('should register new user',function(){cov_q2s9pq5jw.f[11]++;var users=(cov_q2s9pq5jw.s[32]++,[{userId:1,names:'Emmanuel TUYISHIMIRE',email:'egentle05@gmail.com',phone:250788208798,password:'jesus'}]);cov_q2s9pq5jw.s[33]++;_chai2.default.request(_app2.default).post('/api/v1/users/register').send(users).then(function(res){cov_q2s9pq5jw.f[12]++;cov_q2s9pq5jw.s[34]++;(0,_chai.expect)(res).to.have.status(201);cov_q2s9pq5jw.s[35]++;(0,_chai.expect)(res.body).to.be.an('object');cov_q2s9pq5jw.s[36]++;(0,_chai.expect)(res.body).to.have.property('success').eql(true);});});// Existing Email
cov_q2s9pq5jw.s[37]++;(0,_mocha.it)('should return email has already registered',function(){cov_q2s9pq5jw.f[13]++;var users=(cov_q2s9pq5jw.s[38]++,{userId:1,names:'Emmanuel TUYISHIMIRE',email:'egentle05@gmail.com',password:'jesus'});cov_q2s9pq5jw.s[39]++;_chai2.default.request(_app2.default).post('/api/v1/users/register').send(users).then(function(res){cov_q2s9pq5jw.f[14]++;cov_q2s9pq5jw.s[40]++;(0,_chai.expect)(res).to.have.status(400);cov_q2s9pq5jw.s[41]++;(0,_chai.expect)(res.body).to.be.an('object');cov_q2s9pq5jw.s[42]++;(0,_chai.expect)(res.body).to.have.property('success').eql(false);});});// Errors bad request
cov_q2s9pq5jw.s[43]++;(0,_mocha.it)('should return valid data required',function(){cov_q2s9pq5jw.f[15]++;var users=(cov_q2s9pq5jw.s[44]++,{userId:1,names:'Emmanuel TUYISHIMIRE',email:'egentle05@gmail.com',password:'jesus'});cov_q2s9pq5jw.s[45]++;_chai2.default.request(_app2.default).post('/api/v1/users/register').send(users).then(function(res){cov_q2s9pq5jw.f[16]++;cov_q2s9pq5jw.s[46]++;(0,_chai.expect)(res).to.have.status(400);cov_q2s9pq5jw.s[47]++;(0,_chai.expect)(res.body).to.be.an('object');cov_q2s9pq5jw.s[48]++;(0,_chai.expect)(res.body).to.have.property('success').eql(false);cov_q2s9pq5jw.s[49]++;(0,_chai.expect)(res.body.error).to.be.an('array');});});});});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3Quc3BlYy5qcyJdLCJuYW1lcyI6WyJjaGFpIiwidXNlIiwiY2hhaUh0dHAiLCJyZXF1ZXN0IiwiYXBwIiwiZ2V0IiwidGhlbiIsInJlcyIsInRvIiwiaGF2ZSIsInN0YXR1cyIsImJvZHkiLCJiZSIsImFuIiwicHJvcGVydHkiLCJlcWwiLCJwYXJjZWxzIiwidXNlcnMiLCJ1c2VySWQiLCJuYW1lcyIsImVtYWlsIiwicGhvbmUiLCJwYXNzd29yZCIsInBvc3QiLCJzZW5kIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0FBLGVBQUtDLEdBQUwsQ0FBU0Msa0JBQVQ7O0FBRUEscUJBQVMsa0JBQVQsRUFBNkIsWUFBTTtBQUNqQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUlBO0FBQ0EsdUJBQVMsT0FBVCxFQUFrQixZQUFNO0FBQ3RCO0FBQ0EseUJBQVMsbUJBQVQsRUFBOEIsWUFBTTtBQUNsQztBQUNBLHFCQUFHLDZCQUFILEVBQWtDO0FBQUEsZUFBTUYsZUFBS0csT0FBTCxDQUFhQyxhQUFiLEVBQ3JDQyxHQURxQyxDQUNqQyx5QkFEaUMsRUFFckNDLElBRnFDLENBRWhDLFVBQUNDLEdBQUQsRUFBUztBQUNiLDRCQUFPQSxHQUFQLEVBQVlDLEVBQVosQ0FBZUMsSUFBZixDQUFvQkMsTUFBcEIsQ0FBMkIsR0FBM0I7QUFDQSw0QkFBT0gsSUFBSUksSUFBWCxFQUFpQkgsRUFBakIsQ0FBb0JJLEVBQXBCLENBQXVCQyxFQUF2QixDQUEwQixRQUExQjtBQUNBLDRCQUFPTixJQUFJSSxJQUFYLEVBQWlCSCxFQUFqQixDQUFvQkMsSUFBcEIsQ0FBeUJLLFFBQXpCLENBQWtDLFNBQWxDLEVBQTZD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LEVBQTFCLENBQTZCQyxFQUE3QixDQUFnQyxPQUFoQztBQUNELFNBUEg7QUFRRCxPQWZEO0FBZ0JELEtBdkREO0FBd0RELEdBM0ZEO0FBNEZELENBck9EIiwiZmlsZSI6InRlc3Quc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9lbW1hbnVlbC9Qcm9qZWN0cy9TZWxmUHJvamVjdC9zZW5kaXQvc3JjL3Rlc3QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhaUh0dHAgZnJvbSAnY2hhaS1odHRwJztcbmltcG9ydCBjaGFpLCB7IGV4cGVjdCB9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHsgZGVzY3JpYmUsIGl0IH0gZnJvbSAnbW9jaGEnO1xuaW1wb3J0IGFwcCBmcm9tICcuLi9hcHAnO1xuXG5cbi8vIGNvbnN0IHBpZCA9ICc5OGJkZjI2My1hMzdiLTQzM2ItODFmNy1mNTU3YTc0ZmRiODUnO1xuLy8gY29uc3QgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCc7XG5jaGFpLnVzZShjaGFpSHR0cCk7XG5cbmRlc2NyaWJlKCdTZW5kSVQgQVBJIFRFU1RTJywgKCkgPT4ge1xuICAvKiAvLyBUZXN0IEludmFsaWQgcGF0aHNzXG4gIGRlc2NyaWJlKCcvR0VUIElOVkFMSURfUEFUSCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBub3QgZm91bmQnLCAoKSA9PiBjaGFpLnJlcXVlc3QoYXBwKVxuICAgICAgLmdldCgnL0lOVkFMSURfUEFUSCcpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICB9KSk7XG4gIH0pO1xuXG4gIC8vIFRlc3QgUGFyY2VscycgcmVxdWVzdHNcbiAgZGVzY3JpYmUoJ1BhcmNlbHMnLCAoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHBhcmNlbFxuICAgIGRlc2NyaWJlKCdQT1NULyBQYXJjZWwnLCAoKSA9PiB7XG4gICAgICAvLyBQYXJjZWwgc2hvdWxkIGJlIGNyZWF0ZWRcbiAgICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgcGFyY2VsJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXJjZWwgPSB7XG4gICAgICAgICAgdXNlcklkOiAxLFxuICAgICAgICAgIHBhcmNlbDoge1xuICAgICAgICAgICAgcGFyY2VsSWQ6IDEsXG4gICAgICAgICAgICB3ZWlndGg6IDQwLFxuICAgICAgICAgICAgaGVpZ2h0OiA4MCxcbiAgICAgICAgICAgIHdpZHRoOiA0MCxcbiAgICAgICAgICAgIGxlbmd0aDogOTAsXG4gICAgICAgICAgICBGcm9tOiAnS2lnYWxpJyxcbiAgICAgICAgICAgIHN0YXRlRnJvbTogJ0tpY3VraXJvJyxcbiAgICAgICAgICAgIFRvOiAnUnVzaXppJyxcbiAgICAgICAgICAgIHN0YXRlVG86ICdNdWhvbmRvJyxcbiAgICAgICAgICAgIHNlcnZpY2VzOiAnRXhwcmVzcycsXG4gICAgICAgICAgICBzdGF0dXM6ICdkZWxpdmVyZWQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoYWkucmVxdWVzdChhcHApXG4gICAgICAgICAgLnBvc3QoJy9hcGkvdjEvcGFyY2Vscy8nKVxuICAgICAgICAgIC5zZW5kKHBhcmNlbClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwodHJ1ZSk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3BhcmNlbElkJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3ByaWNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQVNTSUdOIHBhcmNlbCB0byBubyBleGlzdCBVc2VyXG4gICAgICBpdCgnc2hvdWxkIHJldHVybiB1c2VyIG5vdCBleGl0JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXJjZWwgPSB7XG4gICAgICAgICAgdXNlcklkOiAnSU5WQUxJRF9VU0VSX0lEJyxcbiAgICAgICAgICBwYXJjZWw6IHtcbiAgICAgICAgICAgIHBhcmNlbElkOiAxLFxuICAgICAgICAgICAgd2VpZ3RoOiA0MCxcbiAgICAgICAgICAgIGhlaWdodDogODAsXG4gICAgICAgICAgICB3aWR0aDogNDAsXG4gICAgICAgICAgICBsZW5ndGg6IDkwLFxuICAgICAgICAgICAgRnJvbTogJ0tpZ2FsaScsXG4gICAgICAgICAgICBzdGF0ZUZyb206ICdLaWN1a2lybycsXG4gICAgICAgICAgICBUbzogJ1J1c2l6aScsXG4gICAgICAgICAgICBzdGF0ZVRvOiAnTXVob25kbycsXG4gICAgICAgICAgICBzZXJ2aWNlczogJ0V4cHJlc3MnLFxuICAgICAgICAgICAgc3RhdHVzOiAnZGVsaXZlcmVkJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjaGFpLnJlcXVlc3QoYXBwKVxuICAgICAgICAgIC5wb3N0KCcvYXBpL3YxL3BhcmNlbHMvJylcbiAgICAgICAgICAuc2VuZChwYXJjZWwpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uYmUuYW4oJ29iamVjdCcpO1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdzdWNjZXNzJykuZXFsKGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gR2V0IGFsbCBwYXJjZWxzXG4gICAgZGVzY3JpYmUoJ0dFVC8gUGFyY2VscycsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGFsbCBwYXJjZWxzJywgKCkgPT4gY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9wYXJjZWxzJylcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5LnBhcmNlbHMpLnRvLmJlLmFuKCdhcnJheScpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICAvLyBHZXQgYSBTcGVjaWZpYyBQYXJjZWxcbiAgICBkZXNjcmliZSgnR0VULyBTcGVjaWYgUGFyY2VsJywgKCkgPT4ge1xuXG4gICAgICBpdCgnc2hvdWxkIHJldHVybiBhIHBhcmNlbCcsICgpID0+IGNoYWkucmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoYC9hcGkvdjEvcGFyY2Vscy8ke3BpZH1gKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwodHJ1ZSk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5LnBhcmNlbCkudG8uYmUuYW4oJ29iamVjdCcpO1xuICAgICAgICB9KSk7XG5cbiAgICAgIC8vIFBhcmNlbCBub3QgZXhpdFxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gcGFyY2VsIE5vdCBFeGl0JywgKCkgPT4gY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9wYXJjZWxzLzQ1MzRQQVJDRUxJRF9OT1RfRVhJVCcpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnc3VjY2VzcycpLmVxbChmYWxzZSk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIC8vIENhbmNlbCBhIHBhcmNlbFxuICAgIGRlc2NyaWJlKCdQVVQvIENhbmNlbCBhIHBhcmNlbCcsICgpID0+IHtcbiAgICAgIC8vIFNob3VsZCBjYW5jZWwgYSBwYXJjZWxcbiAgICAgIGl0KCdzaG91bGQgY2FuY2VsIGEgcGFyY2VsJywgKCkgPT4gY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLnB1dChgL2FwaS92MS9wYXJjZWxzLyR7cGlkfS9jYW5jZWxgKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzLmJvZHkpO1xuICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdzdWNjZXNzJykuZXFsKHRydWUpO1xuICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgncGFyY2VsJyk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgIH0pKTtcblxuICAgICAgLy8gU2hvdWxkIG5vdCBhbGxvdyB0byBjYW5jZWwgYSBub3QgYm9va2luZy1zdGF0dXMgcGFyY2VsXG5pdCgnc2hvdWxkIG5vdCBhbGxvdyB0byBjYW5jZWwgYSBwYXJjZWwgd2l0aCBzdGF0dXMgRGVsaXZlcmVkIG9yIFRyYW5zaXQnLCAoKSA9PiBjaGFpLnJlcXVlc3QoYXBwKVxuICAgICAgICAucHV0KCcvYXBpL3YxL3BhcmNlbHMvMi9jYW5jZWwnKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoNDA1KTtcbiAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwoZmFsc2UpO1xuICAgICAgICB9KSk7XG5cbiAgICAgIC8vIFBhcmNlbCBub3QgZm91bmRcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIE5vdCBGb3VuZCcsICgpID0+IGNoYWkucmVxdWVzdChhcHApXG4gICAgICAgIC5wdXQoJy9hcGkvdjEvcGFyY2Vscy8yMzRfSU5WQUxJRF9QQVJDRUxfSUQvY2FuY2VsJylcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdzdWNjZXNzJykuZXFsKGZhbHNlKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTsgKi9cblxuICAvLyBVU0VSIFRFU1RTXG4gIGRlc2NyaWJlKCdVc2VycycsICgpID0+IHtcbiAgICAvLyBVc2VyIHBhcmNlbHNcbiAgICBkZXNjcmliZSgnR0VULyBVc2VyIHBhcmNlbHMnLCAoKSA9PiB7XG4gICAgICAvLyBHZXQgdXNlciBwYXJjZWxzXG4gICAgICBpdCgnc2hvdWxkIGdldCBhbGwgdXNlciBwYXJjZWxzJywgKCkgPT4gY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS91c2Vycy8xL3BhcmNlbHMnKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmJlLmFuKCdvYmplY3QnKTtcbiAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwodHJ1ZSk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5LnBhcmNlbHMpLnRvLmJlLmFuKCdhcnJheScpO1xuICAgICAgICB9KSk7XG5cbiAgICAgIC8vIFVzZXIgaGFzIG5vIHBhcmNlbHNcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHVzZXIgcGFyY2VscyBub3QgZm91bmQnLCAoKSA9PiBjaGFpLnJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL3VzZXJzLzMvcGFyY2VscycpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uYmUuYW4oJ29iamVjdCcpO1xuICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnc3VjY2VzcycpLmVxbChmYWxzZSk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKCdVc2VyIGhhcyBubyBwYXJjZWxzJyk7XG4gICAgICAgIH0pKTtcblxuICAgICAgLy8gVXNlciBub3QgZm91bmRcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHVzZXIgbm90IGZvdW5kJywgKCkgPT4gY2hhaS5yZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS91c2Vycy8zX0lOVkFMSURfVVNFUl9JRC9wYXJjZWxzJylcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdzdWNjZXNzJykuZXFsKGZhbHNlKTtcbiAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoJ1VzZXIgbm90IEV4aXN0Jyk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIC8vIFJlZ2lzdGVyIHVzZXJcbiAgICBkZXNjcmliZSgnUE9TVC8gUmVnaXN0ZXIgdXNlcicsICgpID0+IHtcbiAgICAgIC8vIFVzZXIgc2hvdWxkIGJlIHJlZ2lzdGVyZWRcbiAgICAgIGl0KCdzaG91bGQgcmVnaXN0ZXIgbmV3IHVzZXInLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogMSxcbiAgICAgICAgICAgIG5hbWVzOiAnRW1tYW51ZWwgVFVZSVNISU1JUkUnLFxuICAgICAgICAgICAgZW1haWw6ICdlZ2VudGxlMDVAZ21haWwuY29tJyxcbiAgICAgICAgICAgIHBob25lOiAyNTA3ODgyMDg3OTgsXG4gICAgICAgICAgICBwYXNzd29yZDogJ2plc3VzJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgICAgICBjaGFpLnJlcXVlc3QoYXBwKS5wb3N0KCcvYXBpL3YxL3VzZXJzL3JlZ2lzdGVyJylcbiAgICAgICAgICAuc2VuZCh1c2VycylcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRXhpc3RpbmcgRW1haWxcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtYWlsIGhhcyBhbHJlYWR5IHJlZ2lzdGVyZWQnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0ge1xuICAgICAgICAgIHVzZXJJZDogMSxcbiAgICAgICAgICBuYW1lczogJ0VtbWFudWVsIFRVWUlTSElNSVJFJyxcbiAgICAgICAgICBlbWFpbDogJ2VnZW50bGUwNUBnbWFpbC5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAnamVzdXMnLFxuICAgICAgICB9O1xuICAgICAgICBjaGFpLnJlcXVlc3QoYXBwKS5wb3N0KCcvYXBpL3YxL3VzZXJzL3JlZ2lzdGVyJylcbiAgICAgICAgICAuc2VuZCh1c2VycylcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDApO1xuICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ3N1Y2Nlc3MnKS5lcWwoZmFsc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEVycm9ycyBiYWQgcmVxdWVzdFxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdmFsaWQgZGF0YSByZXF1aXJlZCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSB7XG4gICAgICAgICAgdXNlcklkOiAxLFxuICAgICAgICAgIG5hbWVzOiAnRW1tYW51ZWwgVFVZSVNISU1JUkUnLFxuICAgICAgICAgIGVtYWlsOiAnZWdlbnRsZTA1QGdtYWlsLmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdqZXN1cycsXG4gICAgICAgIH07XG4gICAgICAgIGNoYWkucmVxdWVzdChhcHApLnBvc3QoJy9hcGkvdjEvdXNlcnMvcmVnaXN0ZXInKVxuICAgICAgICAgIC5zZW5kKHVzZXJzKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwMCk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmJlLmFuKCdvYmplY3QnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnc3VjY2VzcycpLmVxbChmYWxzZSk7XG4gICAgICAgICAgICBleHBlY3QocmVzLmJvZHkuZXJyb3IpLnRvLmJlLmFuKCdhcnJheScpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=