{"version":3,"sources":["update_parcles_test.spec.js"],"names":["pid","chai","use","chaiHttp","request","app","put","then","res","console","log","body","to","have","status","property","eql","be","an"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;;;AAGA,IAAMA,MAAM,sCAAZ;AACA;;AAEAC,eAAKC,GAAL,CAASC,kBAAT;;AAEA;AACA,qBAAS,sBAAT,EAAiC,YAAM;AACrC;AACA,iBAAG,wBAAH,EAA6B;AAAA,WAAMF,eAAKG,OAAL,CAAaC,aAAb,EAChCC,GADgC,sBACTN,GADS,cAEhCO,IAFgC,CAE3B,UAACC,GAAD,EAAS;AACbC,cAAQC,GAAR,CAAYF,IAAIG,IAAhB;AACA,wBAAOH,GAAP,EAAYI,EAAZ,CAAeC,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACA,wBAAON,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBE,QAAzB,CAAkC,SAAlC,EAA6CC,GAA7C,CAAiD,IAAjD;AACA,wBAAOR,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBE,QAAzB,CAAkC,QAAlC;AACA,wBAAOP,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBK,EAApB,CAAuBC,EAAvB,CAA0B,QAA1B;AACD,KARgC,CAAN;AAAA,GAA7B;;AAUA;AACA,iBAAG,sEAAH,EAA2E;AAAA,WAAMjB,eAAKG,OAAL,CAAaC,aAAb,EAC9EC,GAD8E,CAC1E,0BAD0E,EAE9EC,IAF8E,CAEzE,UAACC,GAAD,EAAS;AACb,wBAAOA,GAAP,EAAYI,EAAZ,CAAeC,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACA,wBAAON,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBE,QAAzB,CAAkC,SAAlC,EAA6CC,GAA7C,CAAiD,KAAjD;AACD,KAL8E,CAAN;AAAA,GAA3E;;AAOA;AACA,iBAAG,yBAAH,EAA8B;AAAA,WAAMf,eAAKG,OAAL,CAAaC,aAAb,EACjCC,GADiC,CAC7B,8CAD6B,EAEjCC,IAFiC,CAE5B,UAACC,GAAD,EAAS;AACb,wBAAOA,GAAP,EAAYI,EAAZ,CAAeC,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACA,wBAAON,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBE,QAAzB,CAAkC,SAAlC,EAA6CC,GAA7C,CAAiD,KAAjD;AACD,KALiC,CAAN;AAAA,GAA9B;AAMD,CA3BD","file":"update_parcles_test.spec.js","sourceRoot":"/home/emmanuel/Projects/SelfProject/sendit/src/test","sourcesContent":["import chaiHttp from 'chai-http';\nimport chai, { expect } from 'chai';\nimport { describe, it } from 'mocha';\nimport app from '../app';\n\n\nconst pid = '98bdf263-a37b-433b-81f7-f557a74fdb85';\n// const url = 'http://localhost:5000';\n\nchai.use(chaiHttp);\n\n// Cancel a parcel\ndescribe('PUT/ Cancel a parcel', () => {\n  // Should cancel a parcel\n  it('should cancel a parcel', () => chai.request(app)\n    .put(`/api/v1/parcels/${pid}/cancel`)\n    .then((res) => {\n      console.log(res.body);\n      expect(res).to.have.status(200);\n      expect(res.body).to.have.property('success').eql(true);\n      expect(res.body).to.have.property('parcel');\n      expect(res.body).to.be.an('object');\n    }));\n\n  // Should not allow to cancel a not booking-status parcel\n  it('should not allow to cancel a parcel with status Delivered or Transit', () => chai.request(app)\n    .put('/api/v1/parcels/2/cancel')\n    .then((res) => {\n      expect(res).to.have.status(405);\n      expect(res.body).to.have.property('success').eql(false);\n    }));\n\n  // Parcel not found\n  it('should return Not Found', () => chai.request(app)\n    .put('/api/v1/parcels/234_INVALID_PARCEL_ID/cancel')\n    .then((res) => {\n      expect(res).to.have.status(404);\n      expect(res.body).to.have.property('success').eql(false);\n    }));\n});\n"]}